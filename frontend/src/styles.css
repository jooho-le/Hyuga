/* Warm (default) theme */
:root {
  --bg: #FDF8F4;
  --panel: #FFFFFF;
  --text: #3B3B3B;
  --muted: #7A7A7A;
  --border: #EFE6DE;
  --accent: #FFB38E; /* peach */
  --accent-2: #9ADBC5; /* mint */
  --warn: #DFAF2B;
  --danger: #E57373;
}

/* Night theme override */
.night {
  --bg: #0c1116;
  --panel: #121821;
  --text: #d7e1ea;
  --muted: #8fa3b6;
  --border: #1e2632;
  --accent: #5ee1a1;
  --accent-2: #4ecdc4;
  --warn: #f1c40f;
  --danger: #ff6b6b;
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
  margin: 0; background: var(--bg); color: var(--text);
  font-family: ui-rounded, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto;
  letter-spacing: 0.1px; line-height: 1.65; font-size: 16px;
}

.app { display: flex; flex-direction: column; min-height: 100%; transition: background 0.4s ease; }
.header { position: sticky; top: 0; z-index: 50; background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.75)); backdrop-filter: blur(8px); border-bottom: 1px solid var(--border); }
.night .header { background: rgba(18,24,33,0.7); border-bottom-color: #1e2632; backdrop-filter: blur(10px); }
.header-inner { max-width: 1120px; margin: 0 auto; padding: 14px 24px; display: flex; align-items: center; gap: 16px; }
.brand { font-weight: 800; font-size: 20px; letter-spacing: 0.3px; }
.chips { display: flex; gap: 8px; align-items: center; }
.chip { padding: 6px 10px; border: 1px solid var(--border); border-radius: 999px; background: #fff6ef; color: var(--text); font-size: 12px; }
.night .chip { background: #0e1520; border-color: #2a3443; color: #e0e8f0; }
.tabs { margin-left: auto; display: flex; gap: 8px; flex-wrap: wrap; }
.tabs button { padding: 8px 12px; border-radius: 999px; border: 1px solid var(--border); background: #fbf1ea; cursor: pointer; color: var(--text); }
.tabs button.active { background: #ffe9dd; border-color: #ffd8c4; }
.night .tabs button { background: #0e1520; border-color: #2a3443; color: #d7e1ea; }
.night .tabs button.active { background: #122233; }

.main { padding: 26px 0; flex: 1; }
.container { max-width: 1120px; margin: 0 auto; padding: 0 24px; position: relative; }

.card { background: var(--panel); border: 1px solid var(--border); border-radius: 20px; padding: 20px; margin-bottom: 18px; box-shadow: 0 10px 28px rgba(0,0,0,0.06); }
.card.soft { background: linear-gradient(180deg, #fff8f2 0%, #ffffff 60%); }
.night .card.soft { background: linear-gradient(180deg, #0f1621 0%, #121821 60%); }
.tilt { transform: perspective(900px) rotateX(var(--rx, 0deg)) rotateY(var(--ry, 0deg)) translate3d(var(--tx, 0px), var(--ty, 0px), 0); transition: transform 300ms ease, box-shadow 300ms ease; will-change: transform; }
.tilt:hover { box-shadow: 0 16px 40px rgba(0,0,0,0.12); }
.row { display: flex; gap: 12px; align-items: center; }
.grow { flex: 1; }
.title { font-weight: 800; letter-spacing: 0.2px; font-size: 18px; }
.subtitle { color: var(--muted); margin-top: 2px; font-size: 0.95rem; }
.muted { color: var(--muted); font-size: 0.92rem; }
.kpi { font-size: 26px; font-weight: 800; }
.tag { padding: 4px 10px; border-radius: 999px; font-size: 12px; border: 1px solid var(--border); color: var(--muted); background: #fff9f5; }
.night .tag { background: transparent; border-color: #2a3443; }

.btn { padding: 12px 16px; border-radius: 999px; border: 1px solid var(--border); background: #fff6ef; color: var(--text); cursor: pointer; box-shadow: 0 6px 16px rgba(0,0,0,0.06); font-weight: 600; font-size: 15px; }
.btn:hover { transform: translateY(-1px); transition: transform 150ms ease; }
.btn.primary { background: var(--accent); color: #3b2a24; border-color: transparent; }
.night .btn { background: #0e1520; border-color: #2a3443; color: #e0e8f0; box-shadow: none; }

.gauge { height: 14px; background: #f3ebe3; border: 1px solid var(--border); border-radius: 999px; overflow: hidden; }
.night .gauge { background: #0a0f15; border-color: #1e2632; }
.gauge > span { display: block; height: 100%; background: linear-gradient(90deg, var(--accent-2), var(--accent)); width: 0; transition: width 0.6s ease; }

.breath { height: 72px; display: grid; place-items: center; }
.bubble { width: 18px; height: 18px; border-radius: 999px; background: radial-gradient(circle, var(--accent) 0%, #ffd6c2 60%, transparent 70%); filter: blur(0.5px); animation: breathe 8s ease-in-out infinite; opacity: 0.85; }
@keyframes breathe { 0% { transform: scale(1); opacity: 0.7; } 50% { transform: scale(2.4); opacity: 1; } 100% { transform: scale(1); opacity: 0.7; } }

.grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; }
.cell { height: 22px; border-radius: 8px; background: #f7efe7; border: 1px solid var(--border); }
.cell.green { background: #eefaf4; }
.cell.yellow { background: #fff7e0; }
.cell.red { background: #ffe9e9; }
.night .cell { background: #0a0f15; border-color: #1e2632; }
.night .cell.green { background: rgba(94,225,161,0.16); }
.night .cell.yellow { background: rgba(241,196,15,0.2); }
.night .cell.red { background: rgba(255,107,107,0.24); }

.pill { padding: 6px 10px; border-radius: 999px; border: 1px solid var(--border); background: #fff9f5; }
.danger { color: var(--danger); }
.warn { color: var(--warn); }

.chart { height: 180px; width: 100%; }

input, select { background: #fff7f0; border: 1px solid var(--border); color: var(--text); padding: 12px 14px; border-radius: 16px; font-size: 15px; box-shadow: inset 0 0 0 1px rgba(255,255,255,0.3); }
input::placeholder, select::placeholder { color: #b9a89f; }
input:focus, select:focus { outline: none; border-color: #ffd8c4; box-shadow: 0 0 0 4px rgba(255,179,142,0.25); background: #fffaf6; }
.night input, .night select { background: #0b1118; border-color: #1e2632; color: #e0e8f0; }
.night input:focus, .night select:focus { border-color: #2a3443; box-shadow: 0 0 0 4px rgba(94,225,161,0.15); }
label { font-size: 14px; color: var(--muted); font-weight: 600; }
.stack { display: grid; gap: 8px; }
.two { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }

.footer { color: var(--muted); font-size: 12px; margin-top: 8px; }

/* Landing */
.hero { padding: 24px 18px; border-radius: 18px; background: radial-gradient(circle at 20% -10%, #ffe6d7 0%, transparent 40%), radial-gradient(circle at 80% -10%, #e7fff5 0%, transparent 44%), var(--panel); border: 1px solid var(--border); box-shadow: 0 8px 24px rgba(255,179,142,0.15); }
.hero .title { font-size: 28px; }
.lead { font-size: 16px; color: var(--muted); }
.grid-cards { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 12px; }
@media (max-width: 860px){
  .grid-cards { grid-template-columns: 1fr; }
}

.grid-3 { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 14px; }
@media (max-width: 960px){ .grid-3 { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
@media (max-width: 560px){ .grid-3 { grid-template-columns: 1fr; } }

/* Sections */
.section { margin: 22px 0; }

/* Benefits */
.benefits { background: #f9f1ea; border: 1px solid var(--border); border-radius: 18px; padding: 22px; }
.night .benefits { background: #0f1621; border-color: #1e2632; }
.benefits h3 { margin: 0 0 6px; font-size: 22px; }
.benefits p { margin: 0 0 18px; }
.benefits-grid { display: grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap: 16px; }
@media (max-width: 960px){ .benefits-grid { grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width: 560px){ .benefits-grid { grid-template-columns: 1fr; } }
.benefit-card { background: var(--panel); border: 1px solid var(--border); border-radius: 28px; padding: 20px; text-align: center; box-shadow: 0 8px 20px rgba(0,0,0,0.05); }
.benefit-title { font-weight: 700; }
.benefit-sub { color: var(--muted); font-size: 13px; }
.icon-wrap { width: 60px; height: 60px; margin: 0 auto 10px; border-radius: 999px; display: grid; place-items: center; background: #fff3ea; }
.night .icon-wrap { background: #112030; }

/* Wave quote */
.quote { background: #f6efe8; border: 1px solid var(--border); border-radius: 18px; padding: 24px; overflow: hidden; }
.night .quote { background: #0f1621; border-color: #1e2632; }
.wave { width: 100%; height: 160px; }
.wave text { font-size: 28px; fill: var(--text); }
.wave .accent { fill: #d78a6b; }

/* Icons & bubbles */
.icon-circle { width: 40px; height: 40px; border-radius: 999px; display: grid; place-items: center; background: #fff2e7; box-shadow: inset 0 0 0 1px var(--border); }
.night .icon-circle { background: #132131; box-shadow: inset 0 0 0 1px #2a3443; }
.float { animation: float 4s ease-in-out infinite; }
@keyframes float { 0% { transform: translateY(0) } 50% { transform: translateY(-4px) } 100% { transform: translateY(0) } }

.legend { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
.dot { width: 8px; height: 8px; border-radius: 999px; display: inline-block; }
.dot.green { background: #66d19e; }
.dot.yellow { background: #e6b800; }
.dot.red { background: #ff7a7a; }

/* Chat bubbles */
.chat { display: grid; gap: 8px; }
.msg { max-width: 72%; padding: 10px 12px; border-radius: 14px; font-size: 14px; }
.msg.me { margin-left: auto; background: #ffe7d6; border: 1px solid var(--border); }
.msg.coach { margin-right: auto; background: #f3f7fb; border: 1px solid var(--border); }
.night .msg.me { background: #1c2735; border-color: #2a3443; }
.night .msg.coach { background: #121d2a; border-color: #2a3443; }

.chips-row { display:flex; gap:8px; flex-wrap: wrap; }

/* Reveal on scroll */
.reveal { opacity: 0; transform: translateY(12px); transition: opacity 600ms ease, transform 600ms ease; }
.reveal.visible { opacity: 1; transform: translateY(0); }

/* Aurora background */
.bg-aurora { position: absolute; inset: -10% -10% -20% -10%; pointer-events: none; z-index: -1;
  background: radial-gradient(40% 30% at 20% 0%, rgba(255,214,194,0.5), transparent 60%),
              radial-gradient(45% 35% at 80% 10%, rgba(154,219,197,0.45), transparent 60%);
  filter: blur(30px);
  animation: aurora 12s ease-in-out infinite alternate;
}
@keyframes aurora { 0% { transform: translateY(0) } 100% { transform: translateY(30px) } }

/* Guard pulse for red days */
.cell.red { position: relative; }
.cell.red::after { content:""; position:absolute; inset:-2px; border-radius:6px; background: rgba(255,107,107,0.18); animation: pulse 2s ease-out infinite; }
@keyframes pulse { 0% { opacity: 0.6; transform: scale(0.98) } 100% { opacity: 0; transform: scale(1.05) } }
